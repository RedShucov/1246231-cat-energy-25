{% extends 'base.njk' %}
{% set title = 'Кэт энерджи' %}
{% set name_page = 'index' %}

{% block content %}
  <section class="intro">
    <div class="container">
      <h1 class="visually-hidden">Интернет магазин "Кэт энерджи"</h1>

      <p class="intro__inner">
        <span class="intro__title">Функциональное питание для котов</span>

        <span class="intro__text">Занялся собой? Займись котом!</span>

        {{ picture(
          path_file='img/content/other/',
          class_name='intro__image',
          mobile_image='index-intro-mobile@1x',
          mobile_image2x='index-intro-mobile@2x',
          tablet_image='index-intro-tablet@1x',
          tablet_image2x='index-intro-tablet@2x',
          desktop_image='index-intro-desktop@1x',
          desktop_image2x='index-intro-desktop@2x',
          width='280',
          height='270'
        )}}

        <a class="intro__button button" href="#">Подобрать программу</a>
      </p>
    </div>
  </section>

  <div class="container">
    <section class="popular-category">
      <h2 class="visually-hidden">Популярные категории</h2>

      {% set popular_categories = [{
        'title':  'Похудение',
        'desctiption':  'Ваш кот весит больше собаки и почти утратил способность лазить по деревьям?
                        Пора на диету! Cat Energy Slim поможет вашему питомцу сбросить лишний вес.',
        'alias':  'slim'
      }, {
        'title':  'Набор массы',
        'desctiption':  'Заработать авторитет среди дворовых котов и даже собак?
                        Серия Cat Energy Pro поможет вашему коту нарастить необходимые мышцы!',
        'alias':  'pro'
      }] %}

      {% for category in popular_categories %}
        <article class="popular-category__item popular-category__item--{{ category.alias }}">
          <h3 class="popular-category__title">{{ category.title }}</h3>
          <p class="popular-category__text">{{ category.desctiption }}</p>
          <a class="popular-category__button" href="#">Каталог {{ category.alias }}</a>
        </article>
      {% endfor %}
    </section>

    <section class="benefits">
      <h2 class="benefits__title">Как это работает</h2>

      <ol class="benefits__list">
        {% set benefits = [{
          'desctiption':  'Функциональное питание содержит&nbsp;только полезные питательные вещества.',
          'image':  'eco'
        }, {
          'desctiption':  'Выпускается в виде порошка, который нужно лишь залить кипятком и готово.',
          'image':  'powder'
        }, {
          'desctiption':  'Замените один-два приема обычной еды на наше функциональное питание.',
          'image':  'nourishing'
          }, {
          'desctiption':  'Уже через месяц наслаждайтесь изменениями к лучшему вашего&nbsp;питомца!',
          'image':  'quick-result'
        }] %}

        {% for benefit in benefits %}
          <li class="benefits__item benefits__item--{{ benefit.image  }}">
            <p class="benefits__text">{{ benefit.desctiption | safe }}</p>
          </li>
        {% endfor %}
      </ol>
    </section>
  </div>

  <section class="case">
    <div class="container">
      <div class="case__grid">
        <div class="case__inner">
          <h2 class="case__title">Живой пример</h2>

          <p class="case__descripriton">
            Борис сбросил 5 кг за 2 месяца, просто заменив свой обычный корм на Cat Energy Slim.
            Отличный результат без изнуряющих тренировок!
            При этом он не менял своих привычек и по&#8209;прежнему спит по 16 часов в день.
          </p>

          <dl class="case__progress">
            {% set result = [{
              'title':  'снижение веса',
              'value':  '5 кг'
            }, {
              'title':  'затрачено времени',
              'value':  '60 дней'
            }] %}

            {% for item in result %}
              <div class="case__progress-row">
                <dt class="case__progress-definition">
                  {{ item.title }}
                </dt>
                <dd class="case__progress-value">
                  {{ item.value }}
                </dd>
              </div>
            {% endfor %}
          </dl>

          <p class="case__price">Затраты на питание: <span>15 000 руб.</span></p>
        </div>

        <div class="case__slider slider">
          <div class="slider__images">
            {% set slider_images = [{
              'alt': 'Вид вашего кота до.',
              'modifier': 'slider__image--before',
              'images': [{
                'image_mobile': 'cat-fat-mobile@1x',
                'image_mobile2x': 'cat-fat-mobile@2x',
                'image_tablet': 'cat-fat-tablet@1x',
                'image_tablet2x': 'cat-fat-tablet@2x'
              }]
            }, {
              'alt': 'Вид вашего кота после.',
              'modifier': 'slider__image--after',
              'images': [{
                'image_mobile': 'cat-skinny-mobile@1x',
                'image_mobile2x': 'cat-skinny-mobile@2x',
                'image_tablet': 'cat-skinny-tablet@1x',
                'image_tablet2x': 'cat-skinny-tablet@2x'
              }]
            }] %}

            {% for item in slider_images %}
              {% for image in item.images %}
                {{ picture(
                  path_file='img/content/slider/',
                  class_name='slider__image ' + item.modifier,
                  mobile_image=image.image_mobile,
                  mobile_image2x=image.image_mobile2x,
                  tablet_image=image.image_tablet,
                  tablet_image2x=image.image_tablet2x,
                  width='280',
                  height='232',
                  aria_text=item.alt
                )}}
              {% endfor %}
            {% endfor %}
          </div>

          <div class="slider__controls">
            <button class="slider__button" type="button">
              Было
            </button>
            <input class="slider__range-buton" type="range" oninput="changeSliderValue()" type="range">
            <div class="slider__radio-switching">
              <input class="slider__radio-buton" type="radio" name="switch" checked>
              <input class="slider__radio-buton" type="radio" name="switch">
            </div>
            <button class="slider__button" type="button">
              Стало
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block js %}
  <script src="js/slider.js"></script>
{% endblock %}

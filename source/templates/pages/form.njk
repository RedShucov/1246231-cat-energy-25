{% extends 'base.njk' %}
{% set title = 'Кэт энерджи: форма' %}
{% set name_page = 'form' %}

{% block content %}
  <div class="container">
    <form class="form" action="https://echo.htmlacademy.ru" method="GET">
      <h1 class="form__title">Подбор программы</h1>

      <p class="form__lead">
        Заполните анкету, и мы подберем
        программу питания для вашего кота
      </p>

      <!-- Личные данные кота -->
      <fieldset class="form__fieldset form__fieldset--cats">
        <h2 class="visually-hidden">Личные данные (кота)</h2>

        {% set cat_info = [{
          'title':  'Имя:*',
          'type':  'text',
          'name':  'name',
          'value':  'Барсик'
        }, {
          'title':  'Вес&nbsp;(кг):*',
          'type':  'number',
          'name':  'weight',
          'value':  '7'
        }, {
          'title':  'Возраст&nbsp;(лет):',
          'type':  'number',
          'name':  'name',
          'value':  '7'
        }] %}

        {% for item in cat_info %}
          <label class="form__label" for="{{ item.name }}-selection">
            <span class="form__sign">{{ item.title | safe }}</span>
            <input class="form__text" type="{{ item.type }}" name="{{ item.name }}" id="{{ item.name }}-selection" value="{{ item.value }}">
          </label>
        {% endfor %}
      </fieldset>

      <!-- Цель кота -->
      <fieldset class="form__fieldset form__fieldset--target">
        <h2 class="visually-hidden">Цель</h2>

        {% set tasks = [{
          'title':  'Похудение',
          'name':  'lose-weight',
          'checked':  true
        }, {
          'title':  'Набор массы',
          'name':  'weight-gain'
        }, {
          'title':  'Не знаю (Нужен ваш совет)',
          'name':  'not-know'
        }] %}

        {% for task in tasks %}
          <label class="form__label" for="{{ task.name }}-selection">
            <input class="form__radio" type="radio" name="target" id="{{ task.name }}-selection" value="{{ task.name }}" {{ 'checked' if task.checked }}>
            <span class="form__sign">{{ task.title }}</span>
          </label>
        {% endfor %}
      </fieldset>

      <!-- Контактные данные владельца -->
      <fieldset class="form__fieldset form__fieldset--user">
        <h2 class="form__sub-title">Контактные данные (владельца кота)</h2>

        {% set contacts = [{
          'title':  'E-mail:*',
          'type':  'email',
          'name':  'email',
          'value':  'кuklachev@gmail.com'
        }, {
          'title':  'Телефон:*',
          'type':  'tel',
          'name':  'telephone',
          'value':  '8 (960) 900-60-90'
        }] %}

        {% for contact in contacts %}
          <label class="form__label" for="{{ contact.name }}-selection">
            <span class="form__sign">{{ contact.title }}</span>
            <input class="form__text" type="{{ contact.type }}" name="{{ contact.name }}" id="{{ contact.name }}-selection" value="{{ contact.value }}">
          </label>
        {% endfor %}
      </fieldset>

      <!-- Комментарий владельца -->
      <fieldset class="form__fieldset">
        <h2 class="form__sub-title">Комментарий</h2>

        <textarea class="form__textarea" name="" id="">Расскажите обо всех повадкха кота</textarea>
      </fieldset>

      <!-- Дополнительные услуги -->
      <fieldset class="form__fieldset form__fieldset--additional">
        <h2 class="form__sub-title">Дополнительно</h2>

        {% set additionals = [{
          'title':  'Сахарозаменитель',
          'name':  'sugar',
          'checked':  true
        }, {
          'title':  'Питьевая вода',
          'name':  'water'
        }, {
          'title':  'Молоко',
          'name':  'milk'
        }, {
          'title':  'Витамины',
          'name':  'vitamins'
        }] %}

        {% for addition in additionals %}
          <label class="form__label" for="{{ addition.name }}-selection">
            <input class="form__checkbox" type="checkbox" name="{{ addition.name }}" id="{{ addition.name }}-selection" {{ 'checked' if addition.checked }}>
            <span class="form__sign">{{ addition.title }}</span>
          </label>
        {% endfor %}
      </fieldset>

      <!-- Отправка формы -->
      <div class="form__footer">
        <button class="form__button button" type="submit">Отправить заявку</button>
        <span class="form__required">* — Обязательные поля</span>
      </div>
    </form>
  </div>
{% endblock %}
